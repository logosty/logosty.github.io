# 线程
+ 线程状态：new，runnable(running，ready)，timeWaiting，waiting，blocked，Terminated
+ 启动方法：runnable.start(); new Thread(Runnable r);
+ synchronized: 偏向（对象头），轻量（自旋，占cpu），重量（os，等待）
+ synchronized：锁对象，（this，xx.class）

# volatile
+ 保证线程可见性
    + cpu 缓存一致性协议
+ 禁止指令重排序
    + 单例双重检查锁案例
+ 不保证原子性
    + i++    

# 锁优化
+ 锁细化
+ 锁粗化（竞争太频繁）

# cas
+ compare and swap
+ atomic包 unsafe 类
+ cpu 原语
+ aba 问题
    + 时间戳/版本号 AtomicStampedReference 可以用版本号
    
+ LongAdder 分段锁cas
    
# unsafe
+ allocateMemory 直接分配内存
+ compareAndSetXX 
