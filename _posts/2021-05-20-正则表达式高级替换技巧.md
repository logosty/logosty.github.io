---
tags: [正则表达式,替换,文本编辑]
title: 正则表达式高级替换技巧
key: blog_regex_replace
pageview: true
comment: true
---

> 本文着重于实际开发中如何使用正则表达式的替换技巧来提高工作效率，相关知识储备不做详细介绍。

> 演示环境：macOS Catalina 10.15.7; idea 2019+; wps表格;

# 常用正则表达式搜索关键字

| 关键字    | 作用    |
| --- | --- |
| ^、& |   开头；结尾  |
| .    | 任意字符    |
| \d   | 数字字符   [0-9] |
| \w  | 任意一个字母或数字或下划线  [A~Za~z0~9] |
| \s | 匹配任何空白字符   [ \f\n\r\t\v] |
|\D、\W、\S | 代表和对应小写相反的内容    [^0-9]  [^A~Za~z0~9]   [^ \f\n\r\t\v]|
| (xx)  |  圈定xx内容为一个分组    |
| ?、+、* | 数量匹配，分别为 0或1[01]；1以上 [1,]； 任意个[0,]   |
| (?=xx) 、(?!xx)  |   后面为xx;后面不为xx |
| (?<=xx) 、(?<!xx)  |   前面为xx;前面不为xx |

# 常用正则表达式替换关键字
| 关键字    | 作用    |
| --- | --- |
|  $x  |  取第x个分组 $1代表第一个分组    |
|  \u 和 \U  | 后续一个转为大写；后续所有转为大写    |
|  \l 和 \L |  后续一个转为小写；后续所有转为小写   |
|  \E   |  结束上述 \U \L 的转换  |

# 基本思想
分析梳理，查找，分组圈定，替换


# 需求实操
## 一、model转换类 （sql、model、pb、vo 转换 以及他们之间的get&set ）
> 从db里面查数据，用model接受，转成pb通过rpc传递给api，api再转成前端交互vo
### 1、下划线转驼峰
```
id               
activity_id      
schedule_id      
author_id        
status           
settle_begin_time
settle_end_time  
create_time      
update_time      
data                 
```
* 分析梳理: 很简单，就是把_去掉，然后把_后面的字母变成大写
* 查找: _和它后面的一个字母 即 _\w
* 分组圈定: 因为需要保留后面的字母，所以需要将其圈住 _(\w)  
* 替换: 取组1的数据，将其装换成大写 \u$1
* 效果展示   
  ![](https://cdn.jsdelivr.net/gh/logosty/picture@master/img/1622639396812-1622639396808-Kapture2021-06-02at21.09.30.gif)

### 2、驼峰转 get&set
``` java
//源代码:
id
activityId
scheduleId
authorId
status
settleBeginTime
settleEndTime  
createTime
updateTime
data

//目标代码:
target.setId(origin.getId());
target.setActivityId(origin.getActivityId());
target.setScheduleId(origin.getScheduleId());
target.setAuthorId(origin.getAuthorId());
target.setStatus(origin.getStatus());
target.setSettleBeginTime(origin.getSettleBeginTime());
target.setSettleEndTime(origin.getSettleEndTime());
target.setCreateTime(origin.getCreateTime());
target.setUpdateTime(origin.getUpdateTime());
target.setData(origin.getData());
```
* 分析梳理: 找到每行的首字母，大写，然后填充get和set
* 查找: 首字母和后面的字母: \w\w+
* 分组圈定: 首字母和后面的需要分开成2组做不同的处理: (\w)(\w+)
* 替换: get方面后面先大写首字母，然后取后面的字母: target.set\u$1$2(origin.get\u$1$2());
* 效果展示  
  ![](https://cdn.jsdelivr.net/gh/logosty/picture@master/img/1622723203221-1622723203181-Kapture2021-06-03at20.26.15.gif)